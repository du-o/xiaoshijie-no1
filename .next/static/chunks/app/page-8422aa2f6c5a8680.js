(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5853:function(e,s,t){Promise.resolve().then(t.bind(t,9777))},9777:function(e,s,t){"use strict";t.d(s,{CryptoDashboard:function(){return f}});var a=t(7437),r=t(5118);async function l(){try{let e=await fetch("".concat("https://api.coingecko.com/api/v3","/simple/price?ids=bitcoin,ethereum&vs_currencies=usd,cny&include_24hr_change=true"),{next:{revalidate:60}});if(!e.ok)throw Error("API 请求失败: ".concat(e.status));let s=await e.json(),t=[{symbol:"BTC",name:"Bitcoin",priceUsd:s.bitcoin.usd,priceCny:s.bitcoin.cny,change24h:s.bitcoin.usd_24h_change||0,lastUpdated:new Date().toISOString()},{symbol:"ETH",name:"Ethereum",priceUsd:s.ethereum.usd,priceCny:s.ethereum.cny,change24h:s.ethereum.usd_24h_change||0,lastUpdated:new Date().toISOString()}];return{success:!0,data:t,timestamp:new Date().toISOString()}}catch(e){return{success:!1,error:e instanceof Error?e.message:"未知错误",timestamp:new Date().toISOString()}}}async function c(){try{let e=await fetch("/data/ahr999.json",{cache:"no-cache"});if(!e.ok)throw Error("AHR999 数据暂不可用");let s=await e.json();return{success:!0,data:{value:s.value,signal:s.signal,price:s.price,avgPrice200d:s.avgPrice200d,growthFactor:s.growthFactor,lastUpdated:s.lastUpdated},timestamp:new Date().toISOString()}}catch(e){return{success:!1,error:e instanceof Error?e.message:"未知错误",timestamp:new Date().toISOString()}}}function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("zh-CN",{style:"currency",currency:"USD"===s?"USD":"CNY",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function i(e){return new Date(e).toLocaleString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}var d=t(3225),m=t(9162),x=t(933);function o(e){var s;let{data:t}=e,r=t.change24h>=0,l=t.change24h>=0?"text-green-400":"text-red-400";return(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6 hover:bg-slate-800/70 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:t.symbol}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:t.name}),(0,a.jsx)("span",{className:"text-sm text-slate-400",children:t.symbol})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full ".concat(r?"bg-green-500/10":"bg-red-500/10"),children:[r?(0,a.jsx)(d.Z,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-400"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(l),children:(s=t.change24h,"".concat(s>=0?"+":"").concat(s.toFixed(2),"%"))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-baseline gap-2",children:(0,a.jsx)("span",{className:"text-3xl font-bold text-white",children:n(t.priceUsd,"USD")})}),(0,a.jsxs)("div",{className:"text-lg text-slate-400",children:["≈ ",n(t.priceCny,"CNY")]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50 flex items-center gap-2 text-sm text-slate-500",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["更新于 ",i(t.lastUpdated)]})]})]})}var h=t(4207),u=t(1077),g=t(4241);function p(e){let{data:s}=e,t=function(e){switch(e){case"accumulate":return"text-green-400 bg-green-400/10";case"hold":return"text-yellow-400 bg-yellow-400/10";case"sell":return"text-red-400 bg-red-400/10";default:return"text-slate-400 bg-slate-400/10"}}(s.signal),r=function(e){switch(e){case"accumulate":return"定投区间";case"hold":return"持有观望";case"sell":return"卖出区间";default:return"未知"}}(s.signal);return(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"AHR999 定投指数"}),(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"比特币定投参考指标"})]})]}),(0,a.jsx)("div",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat(t),children:r})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,a.jsx)("span",{className:"text-5xl font-bold text-white",children:s.value.toFixed(3)}),(0,a.jsx)("span",{className:"text-slate-400",children:"指数值"})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-400"}),(0,a.jsx)("span",{className:"text-slate-400",children:"< 0.45 定投"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full bg-yellow-400"}),(0,a.jsx)("span",{className:"text-slate-400",children:"0.45-1.2 持有"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full bg-red-400"}),(0,a.jsx)("span",{className:"text-slate-400",children:"> 1.2 卖出"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-slate-700/50",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"当前价格"})]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-white",children:n(s.price,"USD")})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"200日均价"})]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-white",children:n(s.avgPrice200d,"USD")})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"增长系数"})]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-white",children:s.growthFactor.toFixed(4)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"更新时间"})]}),(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:i(s.lastUpdated)})]})]})]})}var j=t(3274);function f(){let{data:e,isLoading:s,error:t}=(0,r.a)({queryKey:["crypto-prices"],queryFn:async()=>{let e=await l();if(!e.success||!e.data)throw Error(e.error||"获取数据失败");return e.data},refetchInterval:6e4,staleTime:3e4}),{data:n,isLoading:i,error:d}=(0,r.a)({queryKey:["ahr999"],queryFn:async()=>{let e=await c();if(!e.success||!e.data)throw Error(e.error||"获取数据失败");return e.data},refetchInterval:3e5,staleTime:12e4,retry:2});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"实时价格"}),s?(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)(j.Z,{className:"w-8 h-8 animate-spin text-blue-400"})}):t?(0,a.jsxs)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400",children:["加载失败: ",t.message]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==e?void 0:e.map(e=>(0,a.jsx)(o,{data:e},e.symbol))})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"AHR999 定投指数"}),i?(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)(j.Z,{className:"w-8 h-8 animate-spin text-blue-400"})}):d?(0,a.jsxs)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-yellow-400",children:["AHR999 数据暂不可用: ",d.message]}):n?(0,a.jsx)(p,{data:n}):null]})]})}}},function(e){e.O(0,[336,975,971,23,744],function(){return e(e.s=5853)}),_N_E=e.O()}]);